<!doctype html><html><head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns#"><title>Buck: .buckconfig</title><link type="image/png" rel="icon" href="/buck/favicon.png" /><meta http-equiv="content-type" content="text/html;charset=utf-8"><link type="text/css" rel="stylesheet" href="/buck/buck.css"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-40185670-1', 'github.io'); ga('send', 'pageview');</script><meta property="og:locale" content="en_US"><meta property="og:title" content=".buckconfig"><meta property="og:site_name" content="Buck: an Android build tool"><meta property="og:image" content="http://newsroom.fb.com/display-media/265/4"><meta property="og:image:type" content="image/png"><meta property="og:image:width" content="690"><meta property="og:image:height" content="690"><meta property="og:type" content="article"><meta property="fb:admins" content="584556688222168"></head><body><a href="https://github.com/facebook/buck"><img id="fork" src="/buck/fork_me.png" alt="Fork me on GitHub"></a><div id="fb-root"></div><script>(function(d, s, id) {var js, fjs = d.getElementsByTagName(s)[0]; if (d.getElementById(id)) return; js = d.createElement(s); js.id = id; js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=584556688222168"; fjs.parentNode.insertBefore(js, fjs);}(document, 'script', 'facebook-jssdk'));</script><h1><div class="titlebar"><div class="fb-like buck_like" data-send="false" data-layout="standard" data-width="350" data-show-faces="false" data-colorscheme="light" data-action="like"></div><div>Buck: .buckconfig</div></div></h1><div class="content_frame"><div class="toc"><ul class="toc_root"><li><span class="toc_header">Getting Started</span><ul><li><a href="/buck/">Overview</a><li><a href="/buck/setup/quickstart.html">Quick Start</a><li><a href="/buck/setup/install.html">Downloading and Installing Buck</a></ul><li><span class="toc_header">Concepts</span><ul><li><a href="/buck/concept/build_rule.html">Build Rule</a><li><a href="/buck/concept/build_target.html">Build Target</a><li><a href="/buck/concept/build_file.html">Build File</a><li><a href="/buck/concept/buckversion.html">.buckversion</a><li><a href="/buck/concept/nobuckcheck.html">.nobuckcheck</a><li><a href="/buck/concept/buckconfig.html">.buckconfig</a><li><a href="/buck/concept/build_target_pattern.html">Build Target Pattern</a><li><a href="/buck/concept/visibility.html">Visibility</a><li><a href="/buck/concept/troubleshooting.html">Troubleshooting</a><li><a href="/buck/concept/faq.html">FAQ</a></ul><li><span class="toc_header">Build Rules</span><ul><li><a href="/buck/rule/android_binary.html">android_binary()</a><li><a href="/buck/rule/android_library.html">android_library()</a><li><a href="/buck/rule/android_resource.html">android_resource()</a><li><a href="/buck/rule/apk_genrule.html">apk_genrule()</a><li><a href="/buck/rule/gen_aidl.html">gen_aidl()</a><li><a href="/buck/rule/genrule.html">genrule()</a><li><a href="/buck/rule/java_binary.html">java_binary()</a><li><a href="/buck/rule/java_library.html">java_library()</a><li><a href="/buck/rule/java_test.html">java_test()</a><li><a href="/buck/rule/ndk_library.html">ndk_library()</a><li><a href="/buck/rule/prebuilt_jar.html">prebuilt_jar()</a><li><a href="/buck/rule/prebuilt_native_library.html">prebuilt_native_library()</a><li><a href="/buck/rule/project_config.html">project_config()</a></ul><li><span class="toc_header">Functions</span><ul><li><a href="/buck/function/genfile.html">genfile()</a><li><a href="/buck/function/glob.html">glob()</a><li><a href="/buck/function/include_defs.html">include_defs()</a></ul><li><span class="toc_header">Commands</span><ul><li><a href="/buck/command/audit.html">buck audit</a><li><a href="/buck/command/build.html">buck build</a><li><a href="/buck/command/clean.html">buck clean</a><li><a href="/buck/command/install.html">buck install</a><li><a href="/buck/command/project.html">buck project</a><li><a href="/buck/command/targets.html">buck targets</a><li><a href="/buck/command/test.html">buck test</a><li><a href="/buck/command/uninstall.html">buck uninstall</a></ul><li><span class="toc_header">Extending Buck</span><ul><li><a href="/buck/extending/macros.html">Custom Macros</a><li><a href="/buck/extending/rules.html">Custom Rules</a></ul><li><span class="toc_header">Contributing to Buck</span><ul><li><a href="https://groups.google.com/group/buck-build">Discussion Group</a><li><a href="https://github.com/facebook/buck/issues/new">Report a Bug</a><li><a href="/buck/contributing/development.html">Development Workflow</a><li><a href="/buck/contributing/codestyle.html">Code Style</a><li><a href="/buck/javadoc">API</a><li><a href="https://github.com/facebook/buck">Browse the Source Code</a></ul></ul></div><div class="content"><div class="overview">The root of your project may contain a configuration file named <code>.buckconfig</code>. If present, Buck will read this file before executing its business logic so that any customizations specified in <code>.buckconfig</code> will take effect. This file uses the <a href="http://en.wikipedia.org/wiki/INI_file">INI file format</a>.<h2>[alias]</h2>As demonstrated in the <a href="/buck/setup/quickstart.html">Quick Start</a> instructions, aliases for build targets can be defined in <code>.buckconfig</code>:<pre>
[alias]
  app     = //apps/myapp:app
  apptest = //apps/myapp:test
</pre>This facilitates command-line use:<pre>
buck build app
buck test apptest
</pre><h2>[buildfile]</h2>This section may define an <code>includes</code> property that can specify a path to a file of macros and constants that will automatically be included in every build file. Therefore, defining the following:<pre>
[buildfile]
  includes = //core/DEFS
</pre>is the equivalent of manually invoking <code>include_defs('//core/DEFS')</code> at the start of every build file. See <a href="/buck/function/include_defs.html"><code>include_defs()</code></a> for more details.<h2>[java]</h2>This section may define a <code>src_roots</code> property that specifies file paths to roots of Java code (where a root contains a tree of Java folders where the folder structure mirrors the package structure). This list of paths is comma-delimited. Paths that start with a slash are relative to the root of the project. All other paths can match a folder anywhere in the tree. For example:<pre>
[java]
  src_roots = src, /java/, /javatests/
</pre>Will match the <code>java</code> and <code>javatests</code> folders in the root of the project, as well as any folder named <code>src</code> in the project.<p><strong>Note:</strong> This is primarily used as a hack to help determine where resources from a <code>java_library()</code> should be placed within the generated JAR file. Hopefully <code>src_roots</code> will be removed at some point.<h2>[project]</h2>This section may define a <code>default_android_manifest</code> property to identify the <code>AndroidManifest.xml</code> that should be used when the <code>src_target</code> of a <a href="/buck/rule/project_config.html"><code>project_config()</code></a> rule is an Android rule (e.g., <a href="/buck/rule/android_library.html"><code>android_library()</code></a>), but there is no <code>AndroidManifest.xml</code> file in the same directory as the build file. Because an IDE configuration for an Android project needs an <code>AndroidManifest.xml</code>, this provides a convenient fallback, preventing the need to litter your project with boilerplate <code>AndroidManifest.xml</code> files.<pre>
[project]
  default_android_manifest = //shared/AndroidManifest.xml
</pre>This section may also define an <code>initial_targets</code> property, which is a space-delimited list of build targets to run when <code>buck project</code> is executed. Frequently, this is a list of <code>genrule</code>s whose outputs need to exist in order for an IDE to be able to build a project natively (i.e., without the help of Buck).<p>For example, if you had a <code>genrule()</code> for generating a JAR from a <a href="http://thrift.apache.org/">Thrift definition file</a>, and you had a <code>java_library()</code> rule that depended on that JAR, then you would want to be sure that <code>genrule()</code> was built before importing the project into IntelliJ because IntelliJ does not know how to build your <code>genrule()</code> as part of its built-in build process:<pre>
[project]
  initial_targets = //java/com/facebook/schema:generate_thrift_jar
</pre></div></div></div></body></html>